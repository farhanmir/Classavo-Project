{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Farhan%20Mir/Desktop/Projects/Classavo%20Project/frontend/src/lib/axios.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Request interceptor to add JWT token\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    if (typeof window !== 'undefined') {\r\n      const token = localStorage.getItem('accessToken');\r\n      if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor to handle token refresh\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  async (error) => {\r\n    const originalRequest = error.config;\r\n\r\n    // If error is 401 and we haven't already tried to refresh\r\n    if (error.response?.status === 401 && !originalRequest._retry) {\r\n      originalRequest._retry = true;\r\n\r\n      if (typeof window !== 'undefined') {\r\n        const refreshToken = localStorage.getItem('refreshToken');\r\n\r\n        if (refreshToken) {\r\n          try {\r\n            const response = await axios.post(\r\n              `${process.env.NEXT_PUBLIC_API_URL}/auth/token/refresh/`,\r\n              { refresh: refreshToken }\r\n            );\r\n\r\n            const { access } = response.data;\r\n            localStorage.setItem('accessToken', access);\r\n\r\n            // Retry the original request with new token\r\n            originalRequest.headers.Authorization = `Bearer ${access}`;\r\n            return api(originalRequest);\r\n          } catch (refreshError) {\r\n            // Refresh failed, clear tokens and redirect to login\r\n            localStorage.removeItem('accessToken');\r\n            localStorage.removeItem('refreshToken');\r\n            localStorage.removeItem('user');\r\n            \r\n            if (typeof window !== 'undefined') {\r\n              window.location.href = '/auth/login';\r\n            }\r\n            \r\n            return Promise.reject(refreshError);\r\n          }\r\n        } else {\r\n          // No refresh token, redirect to login\r\n          if (typeof window !== 'undefined') {\r\n            window.location.href = '/auth/login';\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACvB,OAAO;IACP,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,uCAAuC;AACvC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC;;IAMA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,+CAA+C;AAC/C,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,OAAO;IACL,MAAM,kBAAkB,MAAM,MAAM;IAEpC,0DAA0D;IAC1D,IAAI,MAAM,QAAQ,EAAE,WAAW,OAAO,CAAC,gBAAgB,MAAM,EAAE;QAC7D,gBAAgB,MAAM,GAAG;QAEzB;;IAmCF;IAEA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa","debugId":null}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Farhan%20Mir/Desktop/Projects/Classavo%20Project/frontend/src/store/authStore.js"],"sourcesContent":["import { create } from 'zustand';\r\nimport api from '@/lib/axios';\r\n\r\nconst useAuthStore = create((set) => ({\r\n  user: null,\r\n  accessToken: null,\r\n  refreshToken: null,\r\n  isAuthenticated: false,\r\n  hasInitialized: false,\r\n\r\n  login: (userData, tokens) => {\r\n    const { access, refresh } = tokens;\r\n    \r\n    if (typeof window !== 'undefined') {\r\n      localStorage.setItem('accessToken', access);\r\n      localStorage.setItem('refreshToken', refresh);\r\n      localStorage.setItem('user', JSON.stringify(userData));\r\n    }\r\n\r\n    set({\r\n      user: userData,\r\n      accessToken: access,\r\n      refreshToken: refresh,\r\n      isAuthenticated: true,\r\n    });\r\n  },\r\n\r\n  logout: async () => {\r\n    const refreshToken = typeof window !== 'undefined' \r\n      ? localStorage.getItem('refreshToken') \r\n      : null;\r\n\r\n    try {\r\n      if (refreshToken) {\r\n        await api.post('/auth/logout/', { refresh: refreshToken });\r\n      }\r\n    } catch (error) {\r\n      console.error('Logout error:', error);\r\n    } finally {\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('accessToken');\r\n        localStorage.removeItem('refreshToken');\r\n        localStorage.removeItem('user');\r\n        window.location.href = '/auth/login';\r\n      }\r\n\r\n      set({\r\n        user: null,\r\n        accessToken: null,\r\n        refreshToken: null,\r\n        isAuthenticated: false,\r\n      });\r\n    }\r\n  },\r\n\r\n  updateUser: (userData) => {\r\n    if (typeof window !== 'undefined') {\r\n      localStorage.setItem('user', JSON.stringify(userData));\r\n    }\r\n    set({ user: userData });\r\n  },\r\n\r\n  initializeAuth: async () => {\r\n    if (typeof window === 'undefined') return;\r\n\r\n    const accessToken = localStorage.getItem('accessToken');\r\n    const refreshToken = localStorage.getItem('refreshToken');\r\n    const userStr = localStorage.getItem('user');\r\n\r\n    if (accessToken && refreshToken && userStr) {\r\n      try {\r\n        // Verify token is still valid by fetching profile\r\n        const response = await api.get('/profile/');\r\n        const userData = response.data;\r\n\r\n        set({\r\n          user: userData,\r\n          accessToken,\r\n          refreshToken,\r\n          isAuthenticated: true,\r\n          hasInitialized: true,\r\n        });\r\n      } catch (error) {\r\n        // Token invalid, clear everything\r\n        localStorage.removeItem('accessToken');\r\n        localStorage.removeItem('refreshToken');\r\n        localStorage.removeItem('user');\r\n        \r\n        set({\r\n          user: null,\r\n          accessToken: null,\r\n          refreshToken: null,\r\n          isAuthenticated: false,\r\n          hasInitialized: true,\r\n        });\r\n      }\r\n    } else {\r\n      // No saved auth, mark as initialized\r\n      set({ hasInitialized: true });\r\n    }\r\n  },\r\n}));\r\n\r\nexport default useAuthStore;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,eAAe,IAAA,kKAAM,EAAC,CAAC,MAAQ,CAAC;QACpC,MAAM;QACN,aAAa;QACb,cAAc;QACd,iBAAiB;QACjB,gBAAgB;QAEhB,OAAO,CAAC,UAAU;YAChB,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,GAAG;YAE5B;;YAMA,IAAI;gBACF,MAAM;gBACN,aAAa;gBACb,cAAc;gBACd,iBAAiB;YACnB;QACF;QAEA,QAAQ;YACN,MAAM,eAAe,sCACjB,0BACA;YAEJ,IAAI;gBACF;;YAGF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,iBAAiB;YACjC,SAAU;gBACR;;gBAOA,IAAI;oBACF,MAAM;oBACN,aAAa;oBACb,cAAc;oBACd,iBAAiB;gBACnB;YACF;QACF;QAEA,YAAY,CAAC;YACX;;YAGA,IAAI;gBAAE,MAAM;YAAS;QACvB;QAEA,gBAAgB;YACd,wCAAmC;;;YAEnC,MAAM;YACN,MAAM;YACN,MAAM;QAiCR;IACF,CAAC;uCAEc","debugId":null}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Farhan%20Mir/Desktop/Projects/Classavo%20Project/frontend/src/components/Header.jsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useState } from 'react';\r\nimport useAuthStore from '@/store/authStore';\r\n\r\nexport default function Header() {\r\n  const router = useRouter();\r\n  const { user, isAuthenticated, logout } = useAuthStore();\r\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n\r\n  const handleLogout = async () => {\r\n    await logout();\r\n  };\r\n\r\n  return (\r\n    <header className=\"bg-white shadow-md\">\r\n      <nav className=\"container mx-auto px-4 py-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          {/* Logo */}\r\n          <Link href=\"/\" className=\"text-2xl font-bold text-blue-600\">\r\n            Classavo LMS\r\n          </Link>\r\n\r\n          {/* Desktop Navigation */}\r\n          <div className=\"hidden md:flex items-center space-x-6\">\r\n            <Link href=\"/courses\" className=\"text-gray-700 hover:text-blue-600\">\r\n              Courses\r\n            </Link>\r\n\r\n            {isAuthenticated ? (\r\n              <>\r\n                {user?.profile?.role === 'student' && (\r\n                  <Link href=\"/my-courses\" className=\"text-gray-700 hover:text-blue-600\">\r\n                    My Courses\r\n                  </Link>\r\n                )}\r\n\r\n                {user?.profile?.role === 'instructor' && (\r\n                  <>\r\n                    <Link href=\"/dashboard\" className=\"text-gray-700 hover:text-blue-600\">\r\n                      Dashboard\r\n                    </Link>\r\n                    <Link href=\"/create-course\" className=\"text-gray-700 hover:text-blue-600\">\r\n                      Create Course\r\n                    </Link>\r\n                  </>\r\n                )}\r\n\r\n                <Link href=\"/profile\" className=\"text-gray-700 hover:text-blue-600\">\r\n                  Profile\r\n                </Link>\r\n\r\n                <button\r\n                  onClick={handleLogout}\r\n                  className=\"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700\"\r\n                >\r\n                  Logout\r\n                </button>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Link href=\"/auth/login\" className=\"text-gray-700 hover:text-blue-600\">\r\n                  Login\r\n                </Link>\r\n                <Link\r\n                  href=\"/auth/register\"\r\n                  className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\r\n                >\r\n                  Register\r\n                </Link>\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          {/* Mobile Menu Button */}\r\n          <button\r\n            onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\r\n            className=\"md:hidden text-gray-700 focus:outline-none\"\r\n          >\r\n            <svg\r\n              className=\"w-6 h-6\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              {mobileMenuOpen ? (\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M6 18L18 6M6 6l12 12\"\r\n                />\r\n              ) : (\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M4 6h16M4 12h16M4 18h16\"\r\n                />\r\n              )}\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        {/* Mobile Navigation */}\r\n        {mobileMenuOpen && (\r\n          <div className=\"md:hidden mt-4 pb-4 space-y-2\">\r\n            <Link\r\n              href=\"/courses\"\r\n              className=\"block text-gray-700 hover:text-blue-600 py-2\"\r\n              onClick={() => setMobileMenuOpen(false)}\r\n            >\r\n              Courses\r\n            </Link>\r\n\r\n            {isAuthenticated ? (\r\n              <>\r\n                {user?.profile?.role === 'student' && (\r\n                  <Link\r\n                    href=\"/my-courses\"\r\n                    className=\"block text-gray-700 hover:text-blue-600 py-2\"\r\n                    onClick={() => setMobileMenuOpen(false)}\r\n                  >\r\n                    My Courses\r\n                  </Link>\r\n                )}\r\n\r\n                {user?.profile?.role === 'instructor' && (\r\n                  <>\r\n                    <Link\r\n                      href=\"/dashboard\"\r\n                      className=\"block text-gray-700 hover:text-blue-600 py-2\"\r\n                      onClick={() => setMobileMenuOpen(false)}\r\n                    >\r\n                      Dashboard\r\n                    </Link>\r\n                    <Link\r\n                      href=\"/create-course\"\r\n                      className=\"block text-gray-700 hover:text-blue-600 py-2\"\r\n                      onClick={() => setMobileMenuOpen(false)}\r\n                    >\r\n                      Create Course\r\n                    </Link>\r\n                  </>\r\n                )}\r\n\r\n                <Link\r\n                  href=\"/profile\"\r\n                  className=\"block text-gray-700 hover:text-blue-600 py-2\"\r\n                  onClick={() => setMobileMenuOpen(false)}\r\n                >\r\n                  Profile\r\n                </Link>\r\n\r\n                <button\r\n                  onClick={() => {\r\n                    handleLogout();\r\n                    setMobileMenuOpen(false);\r\n                  }}\r\n                  className=\"w-full text-left bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700\"\r\n                >\r\n                  Logout\r\n                </button>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Link\r\n                  href=\"/auth/login\"\r\n                  className=\"block text-gray-700 hover:text-blue-600 py-2\"\r\n                  onClick={() => setMobileMenuOpen(false)}\r\n                >\r\n                  Login\r\n                </Link>\r\n                <Link\r\n                  href=\"/auth/register\"\r\n                  className=\"block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 text-center\"\r\n                  onClick={() => setMobileMenuOpen(false)}\r\n                >\r\n                  Register\r\n                </Link>\r\n              </>\r\n            )}\r\n          </div>\r\n        )}\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,IAAI,EAAE,eAAe,EAAE,MAAM,EAAE,GAAG,IAAA,oIAAY;IACtD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAC;IAErD,MAAM,eAAe;QACnB,MAAM;IACR;IAEA,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC,uKAAI;4BAAC,MAAK;4BAAI,WAAU;sCAAmC;;;;;;sCAK5D,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,uKAAI;oCAAC,MAAK;oCAAW,WAAU;8CAAoC;;;;;;gCAInE,gCACC;;wCACG,MAAM,SAAS,SAAS,2BACvB,8OAAC,uKAAI;4CAAC,MAAK;4CAAc,WAAU;sDAAoC;;;;;;wCAKxE,MAAM,SAAS,SAAS,8BACvB;;8DACE,8OAAC,uKAAI;oDAAC,MAAK;oDAAa,WAAU;8DAAoC;;;;;;8DAGtE,8OAAC,uKAAI;oDAAC,MAAK;oDAAiB,WAAU;8DAAoC;;;;;;;;sDAM9E,8OAAC,uKAAI;4CAAC,MAAK;4CAAW,WAAU;sDAAoC;;;;;;sDAIpE,8OAAC;4CACC,SAAS;4CACT,WAAU;sDACX;;;;;;;iEAKH;;sDACE,8OAAC,uKAAI;4CAAC,MAAK;4CAAc,WAAU;sDAAoC;;;;;;sDAGvE,8OAAC,uKAAI;4CACH,MAAK;4CACL,WAAU;sDACX;;;;;;;;;;;;;;sCAQP,8OAAC;4BACC,SAAS,IAAM,kBAAkB,CAAC;4BAClC,WAAU;sCAEV,cAAA,8OAAC;gCACC,WAAU;gCACV,MAAK;gCACL,QAAO;gCACP,SAAQ;0CAEP,+BACC,8OAAC;oCACC,eAAc;oCACd,gBAAe;oCACf,aAAa;oCACb,GAAE;;;;;yDAGJ,8OAAC;oCACC,eAAc;oCACd,gBAAe;oCACf,aAAa;oCACb,GAAE;;;;;;;;;;;;;;;;;;;;;;gBAQX,gCACC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,uKAAI;4BACH,MAAK;4BACL,WAAU;4BACV,SAAS,IAAM,kBAAkB;sCAClC;;;;;;wBAIA,gCACC;;gCACG,MAAM,SAAS,SAAS,2BACvB,8OAAC,uKAAI;oCACH,MAAK;oCACL,WAAU;oCACV,SAAS,IAAM,kBAAkB;8CAClC;;;;;;gCAKF,MAAM,SAAS,SAAS,8BACvB;;sDACE,8OAAC,uKAAI;4CACH,MAAK;4CACL,WAAU;4CACV,SAAS,IAAM,kBAAkB;sDAClC;;;;;;sDAGD,8OAAC,uKAAI;4CACH,MAAK;4CACL,WAAU;4CACV,SAAS,IAAM,kBAAkB;sDAClC;;;;;;;;8CAML,8OAAC,uKAAI;oCACH,MAAK;oCACL,WAAU;oCACV,SAAS,IAAM,kBAAkB;8CAClC;;;;;;8CAID,8OAAC;oCACC,SAAS;wCACP;wCACA,kBAAkB;oCACpB;oCACA,WAAU;8CACX;;;;;;;yDAKH;;8CACE,8OAAC,uKAAI;oCACH,MAAK;oCACL,WAAU;oCACV,SAAS,IAAM,kBAAkB;8CAClC;;;;;;8CAGD,8OAAC,uKAAI;oCACH,MAAK;oCACL,WAAU;oCACV,SAAS,IAAM,kBAAkB;8CAClC;;;;;;;;;;;;;;;;;;;;;;;;;AAUjB","debugId":null}},
    {"offset": {"line": 504, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Farhan%20Mir/Desktop/Projects/Classavo%20Project/frontend/src/components/Footer.jsx"],"sourcesContent":["export default function Footer() {\r\n  return (\r\n    <footer className=\"bg-gray-800 text-white py-6 mt-auto\">\r\n      <div className=\"container mx-auto px-4 text-center\">\r\n        <p>&copy; 2025 Classavo LMS. All rights reserved.</p>\r\n        <div className=\"mt-2 space-x-4\">\r\n          <a href=\"#\" className=\"text-gray-400 hover:text-white\">\r\n            Privacy Policy\r\n          </a>\r\n          <a href=\"#\" className=\"text-gray-400 hover:text-white\">\r\n            Terms of Service\r\n          </a>\r\n          <a href=\"#\" className=\"text-gray-400 hover:text-white\">\r\n            Contact\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAe,SAAS;IACtB,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;8BAAE;;;;;;8BACH,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,MAAK;4BAAI,WAAU;sCAAiC;;;;;;sCAGvD,8OAAC;4BAAE,MAAK;4BAAI,WAAU;sCAAiC;;;;;;sCAGvD,8OAAC;4BAAE,MAAK;4BAAI,WAAU;sCAAiC;;;;;;;;;;;;;;;;;;;;;;;AAOjE","debugId":null}},
    {"offset": {"line": 575, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Farhan%20Mir/Desktop/Projects/Classavo%20Project/frontend/src/app/layout.js"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect } from 'react';\r\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\r\nimport useAuthStore from '@/store/authStore';\r\nimport Header from '@/components/Header';\r\nimport Footer from '@/components/Footer';\r\nimport './globals.css';\r\n\r\nconst queryClient = new QueryClient();\r\n\r\nexport default function RootLayout({ children }) {\r\n  const initializeAuth = useAuthStore((state) => state.initializeAuth);\r\n\r\n  useEffect(() => {\r\n    initializeAuth();\r\n  }, [initializeAuth]);\r\n\r\n  return (\r\n    <html lang=\"en\">\r\n      {/* suppressHydrationWarning prevents hydration mismatch warnings when browser extensions\r\n          (like Grammarly) inject attributes into the DOM after server render. */}\r\n      <body suppressHydrationWarning className=\"flex flex-col min-h-screen bg-gray-50\">\r\n        <QueryClientProvider client={queryClient}>\r\n          <Header />\r\n          <main className=\"flex-grow container mx-auto px-4 py-8\">\r\n            {children}\r\n          </main>\r\n          <Footer />\r\n        </QueryClientProvider>\r\n      </body>\r\n    </html>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AACA;AANA;;;;;;;;AASA,MAAM,cAAc,IAAI,4LAAW;AAEpB,SAAS,WAAW,EAAE,QAAQ,EAAE;IAC7C,MAAM,iBAAiB,IAAA,oIAAY,EAAC,CAAC,QAAU,MAAM,cAAc;IAEnE,IAAA,kNAAS,EAAC;QACR;IACF,GAAG;QAAC;KAAe;IAEnB,qBACE,8OAAC;QAAK,MAAK;kBAGT,cAAA,8OAAC;YAAK,wBAAwB;YAAC,WAAU;sBACvC,cAAA,8OAAC,6MAAmB;gBAAC,QAAQ;;kCAC3B,8OAAC,uIAAM;;;;;kCACP,8OAAC;wBAAK,WAAU;kCACb;;;;;;kCAEH,8OAAC,uIAAM;;;;;;;;;;;;;;;;;;;;;AAKjB","debugId":null}}]
}